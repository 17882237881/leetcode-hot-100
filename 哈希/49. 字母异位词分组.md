# 49. 字母异位词分组

## 题目描述

给你一个字符串数组，请你将 **字母异位词** 组合在一起。可以按任意顺序返回结果列表。

**字母异位词** 是由相同字母按不同顺序排列形成的字符串。

**示例 1:**

```
输入: strs = ["eat", "tea", "tan", "ate", "nat", "bat"]
输出: [["bat"],["nat","tan"],["ate","eat","tea"]]
```

**示例 2:**

```
输入: strs = [""]
输出: [[""]]
```

**示例 3:**

```
输入: strs = ["a"]
输出: [["a"]]
```

**提示：**

*   `1 <= strs.length <= 10^4`
*   `0 <= strs[i].length <= 100`
*   `strs[i]` 仅包含小写字母

---

## 解题引导

### 思路：哈希表 + 排序

**思考过程：**

题目的核心是要识别哪些字符串是“字母异位词”。字母异位词的定义是：由相同字母按不同顺序排列形成的字符串。这意味着，如果我们将一个字母异位词的所有字母重新排序，它们都会得到同一个字符串。

例如，`"eat"`, `"tea"`, `"ate"` 这三个词，排序后都变成了 `"aet"`。

这就给了我们一个绝佳的“钥匙”（Key）来识别这些词是否属于同一组。我们可以：

1.  创建一个哈希表（字典），用于存储分组结果。这个哈希表的 `key` 将是排序后的字符串，`value` 将是一个列表，存放所有排序后等于这个 `key` 的原始字符串。
2.  遍历输入的字符串数组 `strs`。
3.  对于每个字符串 `s`，我们都将它转换成字符数组，然后进行排序，再合并成一个新的字符串，我们称之为 `sorted_s`。
4.  将 `sorted_s` 作为哈希表的 `key`。检查这个 `key` 是否已经存在于哈希表中。
    *   如果不存在，说明这是一个新的分组。我们在哈希表中创建一个新的条目，`key` 是 `sorted_s`，`value` 是一个只包含当前字符串 `s` 的列表。
    *   如果存在，说明当前的字符串 `s` 属于这个已有的分组。我们只需要把 `s` 添加到 `key` 对应的 `value` 列表中即可。
5.  遍历完所有字符串后，哈希表中所有的 `value` 就是我们想要的结果。我们只需要将它们提取出来即可。

**复杂度分析：**

*   **时间复杂度：** `O(n * k log k)`。其中 `n` 是 `strs` 的长度，`k` 是 `strs` 中字符串的最大长度。我们需要遍历 `n` 个字符串，对于每个字符串，我们需要花费 `O(k log k)` 的时间来进行排序。
*   **空间复杂度：** `O(n * k)`。我们需要一个哈希表来存储所有的字符串。

---

## Python 代码实现

```python
from typing import List
import collections

class Solution:
    def groupAnagrams(self, strs: List[str]) -> List[List[str]]:
        """
        使用哈希表，key 为排序后的字符串，value 为字母异位词列表
        """
        # 创建一个默认值为列表的字典
        hash_map = collections.defaultdict(list)
        
        # 遍历输入列表中的每个字符串
        for s in strs:
            # 对字符串进行排序，得到一个唯一的 key
            # 例如 "eat", "tea", "ate" 排序后都是 "aet"
            key = "".join(sorted(s))
            
            # 将原始字符串 s 添加到对应 key 的列表中
            hash_map[key].append(s)
            
        # 字典中的 values 就是我们想要的结果
        return list(hash_map.values())

```